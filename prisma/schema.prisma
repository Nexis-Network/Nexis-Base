generator client {
  provider = "prisma-client-js"
}
datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model User {
  id                  String   @id @default(uuid())
  walletAddress       String   @unique
  twitterAccountId    String?
  points              Int
  referralCode        String?
  leaderboardPosition Int
  pointsLastUpdatedAt DateTime
  createdAt           DateTime @default(now())
  completedQuests     String   // Changed from String[] since lists of primitives aren't supported
  walletAgeInDays     Int
  seasonOnePoints     Int
  totalNZT            String
  unlockedNZT         String
  vestedNZT           String
  estDailyUnlocked    Int
  vestingPeriod       Int
  delegatedNZT        String
  nodeLicenses        String
  networthValue       Float    @default(0)

  Balance Balance[]
}

model Balance {
  id                    String   @id @default(uuid())
  userId                String   @unique
  price                 Float
  isUsdPriceLoading    Boolean
  defiValue             Float    @default(0)
  unclaimedValue        Float    @default(0)
  user                  User     @relation(fields: [userId], references: [id])
}